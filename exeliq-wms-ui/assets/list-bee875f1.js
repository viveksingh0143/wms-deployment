import{_ as h,bg as b,a as g,b as C,j as e,e as v,G as y,d as i,f as P,bh as S,R as c,F as l,m as _,n as x,S as m,B as q}from"./index-7ade8dfe.js";import{C as I}from"./collapsable_card-d6ec21fd.js";const z=()=>{const r=h(),s=b(),{tableProps:o,searchFormProps:d}=g({syncWithLocation:!0,onSearch:t=>{const a=[],{product_id:u,store_id:n}=t;return a.push({field:"product_id",operator:"eq",value:u},{field:"store_id",operator:"eq",value:n}),a}}),{triggerExport:j,isLoading:f}=C({mapData:t=>({id:t.id,"Store Name":t.store.name,"Product Name":t.product.name,Quantity:t.quantity})});return e.jsxs(v,{headerButtons:({defaultButtons:t})=>e.jsxs(e.Fragment,{children:[t,e.jsx(y,{onClick:j,loading:f})]}),children:[e.jsx(F,{formProps:d}),e.jsxs(i,{...o,rowKey:"id",pagination:{...o.pagination,showSizeChanger:!0},children:[e.jsx(i.Column,{title:r("table.s_no"),render:(t,a,u)=>{let n=1,p=10;return typeof o.pagination=="object"&&(n=o.pagination.current??1,p=o.pagination.pageSize??10),(n-1)*p+u+1}},"index"),e.jsx(i.Column,{dataIndex:["store","name"],title:r("inventories.fields.store"),sorter:!0}),e.jsx(i.Column,{dataIndex:["product","name"],title:r("inventories.fields.product"),sorter:!0}),e.jsx(i.Column,{dataIndex:"quantity",title:r("inventories.fields.quantity"),sorter:!0}),e.jsx(i.Column,{title:r("table.actions"),dataIndex:"actions",render:(t,a)=>e.jsx(P,{children:e.jsx(S,{hideText:!0,size:"small",onClick:()=>{s({to:"/warehouse/rmbatches",query:{filters:[{field:"product_id",operator:"eq",value:a.product.id},{field:"store_id",operator:"eq",value:a.store.id}]},type:"push"})}})})})]})]})},F=({formProps:r})=>{const s=h(),{selectProps:o}=c({resource:"stores",optionLabel:"name",optionValue:"id"}),{selectProps:d}=c({resource:"products",optionLabel:"name",optionValue:"id"});return e.jsx(I,{defaultCollapse:!0,title:s("filter.title"),children:e.jsxs(l,{layout:"vertical",...r,children:[e.jsxs(_,{gutter:24,children:[e.jsx(x,{span:6,children:e.jsx(l.Item,{label:s("inventories.fields.store"),name:"store_id",children:e.jsx(m,{...o,allowClear:!0,onSearch:void 0,filterOption:!0,optionFilterProp:"label"})})}),e.jsx(x,{span:6,children:e.jsx(l.Item,{label:s("inventories.fields.product"),name:"product_id",children:e.jsx(m,{...d,allowClear:!0,onSearch:void 0,filterOption:!0,optionFilterProp:"label"})})})]}),e.jsx(l.Item,{children:e.jsx(q,{htmlType:"submit",type:"primary",children:s("filter.buttons.search")})})]})})};export{z as InventoryList,z as default};
